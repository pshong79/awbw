<div class="workshops-index max-w-7xl mx-auto <%= DomainTheme.bg_class_for(:workshops) %> border border-gray-200 rounded-xl shadow p-6">
  <!-- Header -->
  <div class="w-full">
    <div class="flex items-start justify-between mb-6">
      <div class="pr-6">
        <h2 class="text-2xl font-semibold mb-2">Workshops</h2>
        <p class="text-gray-700">
          Search by emotional theme, materials needed, ease of set-up, and more.
          <br>
          We encourage Windows Facilitator creativity and innovation. If you adapt and improve workshops, please
          <%= link_to "share your ideas with us", new_workshop_variation_path, class: "text-blue-500" %>!
        </p>
      </div>
      <% if current_user.super_user? %>
        <%= link_to "New workshop",
                    new_workshop_path,
                    class: "admin-only bg-blue-100 btn btn-primary-outline" %>
      <% end %>
    </div>
  </div>

  <!-- Divider -->
  <div class="w-full"><hr class="border-gray-300 mb-6"></div>

  <!-- Search Form -->
  <div class="w-full">
    <%= form_tag(workshops_path, method: :get,
                 data: {turbo_stream: true, turbo_frame: "workshop_results",
                        controller: "collection share-url"}, autocomplete: "off", class: "space-y-6") do %>
      <%= render "filters" %>
      <div><hr class="border-gray-300 my-6"></div>

      <div class="mt-6"><%= render "filters_applied" %></div>

      <div><hr class="border-gray-300 my-6"></div>

      <!-- Sort Options -->
      <div class="flex flex-wrap items-center gap-x-4 gap-y-2 font-medium">
        <h3 class="text-sm font-semibold uppercase text-gray-500 tracking-wide">
          Sort by
        </h3>
        <%= render "sort_by_options" %>
      </div>

      <%= render "workshops_count" %>
    <% end %>

    <!-- Workshops List -->
    <%= turbo_frame_tag "workshop_results", src: workshops_path  do %>
      <div class="mt-6">
        <div class="space-y-4 animate-pulse">
          <% 3.times do %>
            <div class="flex flex-col sm:flex-row border-b border-gray-200 bg-white gap-4 p-4">
              <!-- 1️⃣ Image skeleton -->
              <div class="flex-shrink-0 w-full sm:w-32 h-32 sm:h-24 bg-gray-200 rounded"></div>

              <!-- Content -->
              <div class="flex flex-col sm:flex-row gap-4 flex-1">
                <!-- Title / metadata -->
                <div class="flex flex-1 gap-4">
                  <!-- Bookmark placeholder -->
                  <div class="flex-shrink-0 pt-1 w-6">
                    <div class="w-5 h-5 bg-gray-200 rounded"></div>
                  </div>

                  <!-- Title + metadata -->
                  <div class="flex flex-col gap-2 flex-1 min-w-0">
                    <!-- Badge -->
                    <div class="h-5 w-32 bg-gray-200 rounded-full"></div>

                    <!-- Title -->
                    <div class="h-6 w-3/4 bg-gray-300 rounded"></div>

                    <!-- Author + date -->
                    <div class="h-4 w-1/2 bg-gray-200 rounded"></div>

                    <!-- Bookmark count -->
                    <div class="h-4 w-40 bg-gray-200 rounded"></div>

                    <!-- Age ranges -->
                    <div class="h-4 w-48 bg-gray-200 rounded"></div>
                  </div>
                </div>

                <!-- Description -->
                <div class="flex flex-1 gap-4 pr-4 sm:pr-3">
                  <!-- Empty bookmark spacer -->
                  <div class="w-6 flex-shrink-0"></div>

                  <!-- Description text -->
                  <div class="flex-1 space-y-2">
                    <div class="h-4 w-full bg-gray-200 rounded"></div>

                    <div class="h-4 w-5/6 bg-gray-200 rounded"></div>

                    <div class="h-4 w-2/3 bg-gray-200 rounded"></div>

                    <!-- Tags -->
                    <div class="mt-3 h-4 w-1/2 bg-gray-200 rounded"></div>
                  </div>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>
</div>
