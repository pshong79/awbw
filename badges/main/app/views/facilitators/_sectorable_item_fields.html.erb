<% collection ||= Sector.published %>

<div class="nested-fields flex items-center space-x-2 <%= DomainTheme.bg_class_for(:sectors) %> border border-lime-200
                rounded px-3 shadow-sm text-sm text-gray-700 hover:bg-lime-100 transition">
  <!-- Select dropdown (optional – could be hidden if sector is already chosen) -->
  <%= f.input :sector_id,
              as: :select,
              label: false,
              collection: collection.order(:name).pluck(:name, :id),
              selected: f.object.sector_id,
              include_blank: true,
              wrapper: false,
              input_html: {
                class: "bg-transparent border-none focus:ring-0 text-sm text-blue-800 cursor-pointer"
              } %>
  <% if current_user.super_user %>
    <span class="admin-only bg-blue-100">
      <%= f.input :is_leader,
                  as: :boolean,
                  input_html: {
                    class: "h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
                  },
                  wrapper_html: {
                    class: "flex items-center space-x-2"
                  },
                  label_html: { class: "text-sm font-medium text-gray-700 mb-0" } %>
    </span>
  <% end %>

  <!-- Remove button -->
  <%= link_to_remove_association "✖",
                                 f,
                                 class: "text-blue-500 hover:text-blue-700 font-bold text-xs transition" %>
</div>
