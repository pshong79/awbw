<div class="relative">

  <!-- OPTIONAL BOOKMARK ICON -->
  <%# if item.respond_to?(:bookmarkable?) && item.bookmarkable? %>
  <div class="absolute top-3 right-3 z-30">
    <%= render "bookmarks/editable_bookmark_icon", resource: item.object %>
  </div>
  <%# end %>

  <!-- CARD -->
  <div class="
    flex flex-row flex-wrap min-h-[160px]
    bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md
    transition-all overflow-hidden cursor-pointer
  ">

    <!-- LEFT SIDE -->
    <div class="
      flex-shrink-0
      w-24
      flex flex-col items-center text-center justify-center py-4 pb-3 px-3
      border-b md:border-b-0 md:border-r border-gray-200
    ">

      <!-- IMAGE / ICON -->
      <div class="relative w-18 h-18">
        <%= link_to polymorphic_path(item),
                    target: item.external_link? ? "_blank" : "", rel: "noopener noreferrer",
                    class: "block w-full h-full" do %>

          <% if item.class == ResourceDecorator %>
            <div class="absolute inset-0 flex items-center justify-center text-gray-700 resource-icon">
              <%= render "resources/resource_icon", kind: item.kind %>
            </div>
          <% end %>

          <%= render "assets/display_image",
                     resource: item.object,
                     width: "full", height: "full",
                     link: false,
                     link_to_object: false,
                     file: item.display_image %>

        <% end %>
      </div>

      <!-- TYPE LABEL -->
      <% if item.class == ResourceDecorator %>
        <span class="mt-2 text-xs font-medium text-gray-500 uppercase tracking-wide">
          <%= item.kind == "Scholarship" ? "Scholar-ship" : (item.kind || "Resource") %>
        </span>
      <% end %>
    </div>

    <!-- RIGHT SIDE -->
    <div class="flex-1 min-w-0 pl-4 pr-8 pb-4 mt-2 relative">

      <!-- TITLE -->
      <div class="mt-3 mb-2">
        <%= link_to polymorphic_path(item),
                    target: item.external_link? ? "_blank" : "", rel: "noopener noreferrer",
                    class: "inline-flex min-w-0 max-w-full text-lg font-semibold
                            text-gray-900 leading-tight hover:underline" do %>
          <%= item.title.truncate(50) %>
        <% end %>
      </div>

      <!-- OPTIONAL DESCRIPTION -->
      <% if item.detail.present? %>
        <p class="text-sm text-gray-600 leading-snug line-clamp-3">
          <span title="<%= item.class == WorkshopDecorator ? item.detail : item.detail(length: 999) %>">
            <%= item.detail(length: 100) %>
          </span>
        </p>
      <% end %>
    </div>
  </div>
</div>
