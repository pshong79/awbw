<div class="min-h-screen">
  <div class="max-w-full mx-auto px-4 sm:px-6 lg:px-8">
    <div class="admin-only bg-blue-100 rounded p-6">
      <div class="max-w-7xl mx-auto <%= DomainTheme.bg_class_for(:sectors) %> border border-gray-200 rounded-xl shadow-lg p-6">
      <div class="space-y-6">

        <!-- Header -->
        <div class="flex items-center justify-between mb-6">
          <h1 class="text-2xl font-semibold text-gray-900">
            Service populations (<%= @count_display %>)
          </h1>
          <%= link_to "New #{Sector.model_name.human.downcase}",
                      new_sector_path,
                      class: "btn btn-primary-outline" %>
        </div>

        <%= render "search_boxes" %>

        <!-- Table -->
        <div class="bg-white rounded">
          <div class="overflow-x-auto">
            <% if @sectors.any? %>
              <table class="w-full table-fixed border-collapse border border-gray-200">
                <thead class="bg-gray-100">
                <tr>
                  <th class="px-4 py-2 text-left text-sm font-semibold text-gray-700 w-1/3">
                    Name
                  </th>

                  <th class="px-4 py-2 text-center text-sm font-semibold text-gray-700 w-1/6">
                    Published
                  </th>

                  <th class="px-4 py-2 text-center text-sm font-semibold text-gray-700 w-[80px]">
                    Actions
                  </th>
                </tr>
                </thead>

                <tbody class="divide-y divide-gray-200">
                <% @sectors.each do |sector| %>
                  <tr class=" <%= "bg-gray-200" unless sector.published %>
                  <%= sector.published ? "hover:bg-gray-50" : "hover:bg-gray-100" %> transition-colors duration-150">

                    <td class="px-4 py-2 text-md text-gray-800 truncate font-bold">
                      <%= sector.name %>
                    </td>

                    <td class="px-4 py-2 text-center">
                      <% if sector.published? %>
                        <span class="inline-block px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded">
                          Yes
                        </span>
                      <% else %>
                        <span class="inline-block px-2 py-1 text-xs font-semibold text-gray-700 bg-gray-200 rounded">
                          No
                        </span>
                      <% end %>
                    </td>

                    <!-- Actions -->
                    <td class="px-4 py-2 text-center">
                      <%= link_to "Edit",
                                  edit_sector_path(sector),
                                  class: "btn btn-secondary-outline whitespace-nowrap" %>
                      <%= link_to "Taggings",
                                  taggings_path(sector_names: sector.name),
                                  class: "btn btn-secondary-outline whitespace-nowrap" %>
                    </td>

                  </tr>
                <% end %>
                </tbody>
              </table>
            <% else %>
              <!-- Empty state -->
              <p class="text-gray-500 text-center py-6">
                No <%= Sector.model_name.human.pluralize %> found.
              </p>
            <% end %>
          </div>
        </div>

        <!-- Pagination -->
        <div class="pagination flex justify-center mt-12">
          <%= tailwind_paginate @sectors %>
        </div>

      </div>
    </div>
    </div>
  </div>
</div>
