<%= simple_form_for(@category) do |f| %>
  <div class="space-y-6">

    <!-- Errors -->
    <%= f.error_notification %>
    <%= render "shared/errors", resource: @category if @category.errors.any? %>

    <!-- One-line Flex Fields -->
    <div class="flex flex-wrap gap-6">

      <!-- Name -->
      <div class="flex-1 min-w-[220px]">
        <%= f.input :name,
                    label: "Name",
                    input_html: { class: "form-control" } %>
      </div>

      <!-- Category Type -->
      <div class="flex-1 min-w-[220px]">
        <%= f.input :category_type_id,
                    label: "Category Type",
                    collection: @category_types,
                    label_method: :name,
                    value_method: :id,
                    include_blank: "Select a Type",
                    input_html: { class: "form-control" } %>
      </div>

      <div class="flex-1 min-w-[150px]">
        <label class="block text-md font-medium text-gray-700 mb-3">
          Position
        </label>
        <div class="flex gap-x-2 items-center">
          <span class="text-gray-900 font-medium mb-2">
            <%= f.object.position %>
          </span>
        </div>
      </div>

      <!-- Published -->
      <div class="flex items-center min-w-[150px] pt-6">
        <%= f.input :published,
                    as: :boolean,
                    label: "Published?",
                    wrapper_html: { class: "flex items-center gap-2" },
                    input_html: { class: "form-checkbox" } %>
      </div>

    </div>

    <!-- Actions -->
    <div class="flex flex-wrap justify-end gap-3 pt-6">

      <% if @category.persisted? && current_user.super_user? %>
        <%= link_to "Delete",
                    @category,
                    method: :delete,
                    data: { confirm: "Are you sure you want to delete this category?" },
                    class: "btn btn-danger-outline" %>
      <% end %>

      <%= link_to "Cancel", categories_path,
                  class: "btn btn-secondary-outline" %>

      <%= f.button :submit,
                   "Save Category",
                   class: "btn btn-primary" %>
    </div>

  </div>
<% end %>
