<%= form_with url: users_path,
              method: :get,
              local: true,
              html: { id: "filter-form", class: "w-full" } do |f| %>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 items-end">
    <!-- Search -->
    <div>
      <%= label_tag :search, "Search", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <div class="relative">
        <%= text_field_tag :search, params[:search],
                           class: "w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-800 shadow-sm
                                 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:outline-none",
                           placeholder: "Type and hit Enter",
                           onkeypress: "if(event.key === 'Enter'){ this.form.submit(); }" %>

        <button type="submit"
                class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-blue-600"
                onclick="this.closest('form').submit()">
          <i class="fa fa-search"></i>
        </button>
      </div>
    </div>

    <!-- Super user -->
    <div>
      <%= label_tag :super_user, "Super user", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= select_tag :super_user,
                     options_for_select([["All users", ""],
                                         ["Super users", true],
                                         ["Regular users", false]],
                                        params[:super_user]),
                     class: "w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-800 shadow-sm
                           focus:border-blue-500 focus:ring focus:ring-blue-200 focus:outline-none pe-10",
                     onchange: "this.form.submit()" %>
    </div>

    <!-- Inactive -->
    <div>
      <%= label_tag :inactive, "Hidden?", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= select_tag :inactive,
                     options_for_select([["All users", ""],
                                         ["Inactive users", true],
                                         ["Active users", false]],
                                        params[:inactive]),
                     class: "w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-800 shadow-sm
                           focus:border-blue-500 focus:ring focus:ring-blue-200 focus:outline-none pe-10",
                     onchange: "this.form.submit()" %>
    </div>

    <!-- Clear filters -->
    <div class="flex sm:justify-end items-end">
      <%= link_to 'Clear filters', users_path,
                  class: "btn btn-utility-outline" %>
    </div>
  </div>
<% end %>

