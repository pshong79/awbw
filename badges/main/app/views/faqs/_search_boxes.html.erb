<%= form_tag(faqs_path, method: :get, class: "space-y-4") do |f| %>
  <div class="flex flex-col md:flex-row md:items-end md:gap-4 mb-6">
    <!-- Search -->
    <div class="w-full md:flex-1 mb-3 md:mb-0">
      <%= label_tag :query, "Search", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <div class="relative">
        <%= text_field_tag :query, params[:query],
                           class: "w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-800 shadow-sm
                                 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:outline-none",
                           onkeypress: "if(event.key === 'Enter'){ this.form.submit(); }" %>

        <button type="submit"
                class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-blue-600"
                onclick="this.closest('form').submit()">

          <i class="fa fa-search"></i>
        </button>
      </div>
    </div>

    <% if current_user.super_user? %>
      <!-- Inactive -->
      <div class="admin-only bg-blue-100">
        <div class="w-full md:w-48 mb-3 md:mb-0">
          <%= label_tag :inactive, "Hidden?", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= select_tag :inactive,
                         options_for_select([["All FAQs", ""],
                                             ["Hidden FAQs", true],
                                             ["Published FAQs", false]],
                                            params[:inactive]),
                         class: "w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-800 shadow-sm
                             focus:border-blue-500 focus:ring focus:ring-blue-200 focus:outline-none",
                         onchange: "this.form.submit()" %>
        </div>
      </div>
    <% end %>

    <!-- Clear filters -->
    <div class="w-full md:w-auto">
      <%= link_to "Clear filters", faqs_path,
                  class: "btn btn-utility-outline" %>
    </div>
  </div>
<% end %>


